
local GUI = loadstring(game:HttpGet("https://raw.githubusercontent.com/BloodLetters/Ash-Libs/refs/heads/main/source.lua"))()
GUI:CreateMain({
    Name = "Ashlabs",
    title = "Arm Wrestle Simulator",
    ToggleUI = "K",
    WindowIcon = "home", -- you can use lucid icons
    -- WindowHeight = 600, -- default height
    -- WindowWidth = 800, -- default width
    Theme = {
        Background = Color3.fromRGB(25, 25, 35),
        Secondary = Color3.fromRGB(35, 35, 45),
        Accent = Color3.fromRGB(138, 43, 226),
        Text = Color3.fromRGB(255, 255, 255),
        TextSecondary = Color3.fromRGB(180, 180, 180),
        Border = Color3.fromRGB(50, 50, 60),
        NavBackground = Color3.fromRGB(20, 20, 30)
    },
    Blur = { -- Buggy
        Enable = false, -- transparent option
        value = 0.2
    },
    Config = { -- not implemented yet
        Enabled = false,
    }
})


local main = GUI:CreateTab("Main", "user-round") -- You can use IconID we didnt impleemnt lucid or any external icons
GUI:CreateSection({
    parent = main, 
    text = "Player"
})
GUI:CreateButton({
    parent = main, 
    text = "Trade ke Benz_0x7", 
    callback = function()
local args = {
	game:GetService("Players"):WaitForChild("benz_0x7")
}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("TradingService"):WaitForChild("RF"):WaitForChild("sendTradeRequest"):InvokeServer(unpack(args))

    end
})
GUI:CreateButton({
    parent = main, 
    text = "Fast Relog", 
    callback = function()
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local placeId = game.PlaceId

-- Ganti sesuai place id target kamu
local targetPlaceId = 13127800756

if placeId == targetPlaceId then
    -- Tunggu beberapa detik biar game sempat load (opsional)
    task.wait(2)

    -- Auto relog (rejoin ke place yang sama)
    TeleportService:Teleport(targetPlaceId, player)
end
    end
})


GUI:CreateToggle({
    parent = main, 
    text = "Auto Quest Token", 
    default = false, 
    callback = function(enabled)

        if enabled then
            _G.AutoQuestToken = true
            task.spawn(function()

                --// âš¡ Auto Quest Trainer (Zone1 Knuckle + Local Grip/Dumbbell + Smart Return + 30min Cooldown)
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local Workspace = game:GetService("Workspace")

                local player = Players.LocalPlayer
                local Knit = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Knit")

                --// Knit Services
                local Services = Knit:WaitForChild("Services")
                local PunchBagRemote = Services.PunchBagService.RE.onGiveStats
                local ToolClickRemote = Services.ToolService.RE.onClick
                local ToolEquipRemote = Services.ToolService.RE.onEquipRequest
                local TeleportRemote = Services.ZoneService.RE.teleport

                --// Helper: find zone by prefix (handles "1A", "1Boss", etc.)
                local function findZone(prefix)
                    for _, zone in pairs(Workspace:WaitForChild("Zones"):GetChildren()) do
                        if zone:IsA("Folder") and zone.Name:sub(1, #prefix) == prefix then
                            return zone
                        end
                    end
                    return nil
                end

                --// Zone 1 info (Knuckle quest area)
                local zone1 = findZone("1")
                local zone1Spawn = zone1 and zone1:WaitForChild("Interactables"):WaitForChild("Teleports"):WaitForChild("Locations"):WaitForChild("Spawn")
                local punchBagCFrame = CFrame.new(-10493.505859375, 34.341880798339844, 4063.761962890625)

                --// Config
                local totalPunches, totalTools = 850, 1000
                local punchDelay, toolDelay = 0.18, 0.12
                local teleportDelay, preTrainDelay = 10, 2
                local questCooldown = 1800 -- 30 minutes

                --// Helpers
                local function teleportTo(target)
                    if target then
                        TeleportRemote:FireServer(target)
                    end
                end

                local function moveTo(cframe)
                    local char = player.Character or player.CharacterAdded:Wait()
                    local hrp = char:WaitForChild("HumanoidRootPart")
                    hrp.CFrame = cframe + Vector3.new(0, 3, 0)
                end

                local function getCurrentZoneByPosition()
                    local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
                    if not hrp then return nil end
                    local pos = hrp.Position

                    local closestZone, closestDist = nil, math.huge
                    for _, zone in pairs(Workspace:WaitForChild("Zones"):GetChildren()) do
                        if zone:IsA("Folder") and zone:FindFirstChild("Interactables") then
                            local teleports = zone.Interactables:FindFirstChild("Teleports")
                            if teleports and teleports:FindFirstChild("Locations") then
                                for _, loc in pairs(teleports.Locations:GetChildren()) do
                                    if loc:IsA("BasePart") then
                                        local dist = (loc.Position - pos).Magnitude
                                        if dist < closestDist then
                                            closestDist = dist
                                            closestZone = zone
                                        end
                                    end
                                end
                            end
                        end
                    end
                    return closestZone
                end

                --// Training Functions
                local function trainPunchBag()
                    print("ðŸ¥Š [AutoQuest] Training Knuckle quest in Zone 1...")
                    teleportTo(zone1Spawn)
                    task.wait(teleportDelay)
                    moveTo(punchBagCFrame)
                    task.wait(preTrainDelay)
                    for i = 1, totalPunches do
                        if not _G.AutoQuestToken then return end
                        PunchBagRemote:FireServer("1", "Tier6")
                        task.wait(punchDelay)
                    end
                    print("âœ… [AutoQuest] Finished Knuckle training.")
                end

                local function trainTool(toolType)
                    print("ðŸ’ª [AutoQuest] Training " .. toolType .. " locally...")
                    ToolEquipRemote:FireServer("1", toolType, "250Kg")
                    task.wait(1)
                    for i = 1, totalTools do
                        if not _G.AutoQuestToken then return end
                        ToolClickRemote:FireServer()
                        task.wait(toolDelay)
                    end
                    print("âœ… [AutoQuest] Finished " .. toolType .. " training.")
                end

                local function identifyQuestType(text)
                    if not text then return nil end
                    local lower = text:lower()
                    if lower:find("knuckle") then return "Knuckle"
                    elseif lower:find("grip") then return "Grip"
                    elseif lower:find("dumbbell") or lower:find("dumble") then return "Dumbbell"
                    end
                    return nil
                end

                --// Main Loop
                while _G.AutoQuestToken do
                    local questText = player:GetAttribute("TokenQuestString")

                    if questText then
                        local questType = identifyQuestType(questText)
                        local currentZone = getCurrentZoneByPosition()
                        local returnTarget = nil

                        -- Remember player zone before training
                        if currentZone then
                            local teleports = currentZone:FindFirstChild("Interactables") and currentZone.Interactables:FindFirstChild("Teleports")
                            if teleports and teleports:FindFirstChild("Locations") and teleports.Locations:FindFirstChild("Spawn") then
                                returnTarget = teleports.Locations.Spawn
                                print("ðŸ“ [AutoQuest] Saved player zone:", currentZone.Name)
                            end
                        end

                        print("ðŸŽ¯ [AutoQuest] Doing quest:", questType)

                        if questType == "Knuckle" then
                            trainPunchBag()
                        elseif questType == "Grip" then
                            trainTool("Grips")
                        elseif questType == "Dumbbell" then
                            trainTool("Dumbells")
                        else
                            print("âš  [AutoQuest] Unknown quest:", questText)
                        end

                        -- Always teleport back
                        if returnTarget then
                            print("ðŸš€ [AutoQuest] Returning to:", currentZone.Name)
                            teleportTo(returnTarget)
                            task.wait(5)
                        else
                            print("âš  [AutoQuest] No return zone found.")
                        end

                        -- Wait cooldown before recheck
                        print("â²ï¸ [AutoQuest] Waiting 30 minutes before next quest...")
                        local t = 0
                        while _G.AutoQuestToken and t < questCooldown do
                            task.wait(1)
                            t += 1
                        end
                    else
                        print("â³ [AutoQuest] Waiting for quest...")
                        task.wait(5)
                    end
                end
            end)
        else
            _G.AutoQuestToken = false
            print("ðŸ›‘ [AutoQuest] Disabled.")
        end
    end
})

GUI:CreateToggle({
    parent = main, 
    text = "Auto Claim", 
    default = true, 
    callback = function(claim)
	if claim then	
	_G.claim1 = true
	while _G.claim1 == true do
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local KnitServices = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services")

-- EventPassService Remotes
local EventPassRF = KnitServices:WaitForChild("EventPassService"):WaitForChild("RF")

-- TimedRewardService Remotes
local TimedRewardRE = KnitServices:WaitForChild("TimedRewardService"):WaitForChild("RE")

-- Reset Event Pass
EventPassRF:WaitForChild("Reset"):InvokeServer()

-- Claim all Free Event Pass rewards (1â€“12)
for i = 1, 12 do
	EventPassRF:WaitForChild("ClaimReward"):InvokeServer("Free", i)
end

-- Claim selected Timed Rewards
local timedRewards = {"1","2","3","6","8","9","11","12"}

for _, id in ipairs(timedRewards) do
	TimedRewardRE:WaitForChild("onClaim"):FireServer(id)
end
task.wait(120)
end
		else
		_G.claim1 = false
           end
        print("Toggle state:", claim)
    end
})

GUI:CreateToggle({
    parent = main, 
    text = "Auto Roll Aura", 
    default = true, 
    callback = function(Aura)
if Aura then
        _G.loop3 = true
	while _G.loop3 == true do
		task.wait(0.1)
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("AuraService"):WaitForChild("RF"):WaitForChild("Roll"):InvokeServer()
           end
		else
		_G.loop3 = false
           end
		print("Toggle state:", Aura)
    end
})
GUI:CreateToggle({
    parent = main, 
    text = "Auto Insert Goliath", 
    default = false, 
    callback = function(state)
        getgenv().AUTO_INSERT_GOLIATH = state

        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local CollectionService = game:GetService("CollectionService")
                local Knit = require(ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Knit"))
                local player = Players.LocalPlayer

                repeat task.wait() until Knit.GetController and Knit.GetService

                local GoliathController = Knit.GetController("GoliathController")
                local PetService        = Knit.GetService("PetService")
                local GoliathService    = Knit.GetService("PetGoliathService")
                local ItemController    = Knit.GetController("ItemController")
                local PetCraftTypes     = require(ReplicatedStorage:WaitForChild("Enums"):WaitForChild("PetCraftTypes"))

                local BOLTS_COST = 100

                local function hasBolts()
                    return ItemController:GetItemAmount("Bolts") >= BOLTS_COST
                end

                while getgenv().AUTO_INSERT_GOLIATH do
                    pcall(function()
                        if hasBolts() and GoliathController.PetsInMachine then
                            for _, slot in ipairs(CollectionService:GetTagged("GoliathSlot")) do
                                if not slot:GetAttribute("Taken") then
                                    PetService:getOwned(player):andThen(function(pets)
                                        for guid, petData in pairs(pets) do
                                            if petData.CraftType == PetCraftTypes.Huge then
                                                print("[AutoInsert] Placing pet:", petData.Key, "into", slot.Name)
                                                GoliathService.onPurchase:Fire(guid, slot.Name)
                                                return
                                            end
                                        end
                                    end)
                                    break
                                end
                            end
                        end
                    end)
                    task.wait(3)
                end
            end)
        end
    end
})
GUI:CreateToggle({
    parent = main, 
    text = "Auto Claim Goliath", 
    default = false, 
    callback = function(state)
        getgenv().AUTO_CLAIM_GOLIATH = state

        if state then
            task.spawn(function()
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local CollectionService = game:GetService("CollectionService")
                local Knit = require(ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Knit"))
                local player = Players.LocalPlayer

                repeat task.wait() until Knit.GetController and Knit.GetService

                local GoliathController = Knit.GetController("GoliathController")
                local GoliathService    = Knit.GetService("PetGoliathService")

                while getgenv().AUTO_CLAIM_GOLIATH do
                    pcall(function()
                        if GoliathController.PetsInMachine then
                            for _, slot in ipairs(CollectionService:GetTagged("GoliathSlot")) do
                                local slotPet = GoliathController.PetsInMachine[slot.Name]
                                if slotPet then
                                    local guid = slotPet.Guid
                                    local timer = GoliathController.PetMachineTimer[guid]
                                    if timer and timer - require(ReplicatedStorage.Vendor.RealTime)() <= 0 then
                                        print("[AutoClaim] Claiming pet from slot:", slot.Name)
                                        GoliathService.onClaim:Fire(guid, slot.Name)
                                    end
                                end
                            end
                        end
                    end)
                    task.wait(3)
                end
            end)
        end
    end
})
local main = GUI:CreateTab("Machine and Shop", "webhook") -- You can use IconID we didnt impleemnt lucid or any external icons
GUI:CreateSection({
    parent = main, 
    text = "Shop"
})

GUI:CreateButton({
    parent = main, 
    text = "Goliath Machine", 
    callback = function()
-- Knit approach: calls the controller methods used in the decompiled code.
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local Knit = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Knit")
local KnitLib = require(Knit)

-- Wait until Knit has started and the controller exists
task.spawn(function()
    -- try until controller is ready
    local controller
    while not controller do
        if KnitLib.GetController then
            pcall(function()
                controller = KnitLib.GetController("GoliathController")
            end)
        end
        if not controller then
            task.wait(0.2)
        end
    end

    -- Ensure FrameController exists on the controller (set in KnitInit in your decompiled script)
    while not controller.FrameController do
        task.wait(0.1)
    end

    -- FUNCTIONS you can call:
    local function openGoliath()
        controller.FrameController:Open()
        -- show slot page by default
        controller.SelectionEnabled = false
    end

    local function closeGoliath()
        controller.FrameController:Close()
    end

    local function enableSelection(slotName)
        -- opens the selection view for a particular slot (mimics enableSelection usage)
        controller:enableSelection(slotName)
    end

    -- Example usage:
    openGoliath()
    -- wait 0.5 then enable selection for a slot named "1" (adjust to a real slot name)
    task.delay(0.5, function()
        enableSelection("1")
    end)

    -- if you want to close later:
    -- task.delay(3, closeGoliath)
end)

end})
GUI:CreateButton({
    parent = main, 
    text = "Machine Pristine", 
    callback = function()
--// LocalScript inside StarterPlayerScripts (or executor if testing)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Knit = require(ReplicatedStorage.Packages.Knit)

-- Wait for Knit to start up fully
task.wait(3)

-- Get controller
local PristineController = Knit.GetController("PristineController")

-- Force open the machine menu
PristineController:UpdatePetList()
PristineController.FrameController:Open()
PristineController:UpdateDisplay()
end})

GUI:CreateButton({
    parent = main, 
    text = "Medal Shop", 
    callback = function()
--// LocalScript inside StarterPlayerScripts (or executor)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Knit = require(ReplicatedStorage.Packages.Knit)

-- wait for Knit startup
task.wait(3)

-- Get the controller
local MedalMerchantController = Knit.GetController("MedalMerchantController")

-- Force open the Medal Merchant Shop
if MedalMerchantController and MedalMerchantController.FrameController then
    MedalMerchantController.FrameController:Open()
end
end})

GUI:CreateButton({
    parent = main, 
    text = "Forge Machine", 
    callback = function()
-- âš¡ Execution script to open Forge Machine UI
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local Knit = require(ReplicatedStorage.Packages.Knit)
local FrameController = require(ReplicatedStorage.Vendor.FrameController)

local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")
local GameUI = PlayerGui:WaitForChild("GameUI")

-- Target: Forge UI
local ForgeUI = GameUI.Menus:WaitForChild("Forge")
local ForgeFrame = FrameController.new(ForgeUI)

-- ðŸ”¥ Open the Forge UI instantly
ForgeFrame:Open()
print("âš™ï¸ Forge Machine UI opened successfully!")
end})

GUI:CreateButton({
    parent = main, 
    text = "Rift Machine", 
    callback = function()
--âš¡ Force open Rift Machine UI
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local Knit = require(ReplicatedStorage.Packages.Knit)
local FrameController = require(ReplicatedStorage.Vendor.FrameController)

local player = Players.LocalPlayer
local RiftUI = player:WaitForChild("PlayerGui"):WaitForChild("GameUI"):WaitForChild("Menus"):WaitForChild("RiftMachine")

-- Create FrameController for Rift UI
local RiftFrame = FrameController.new(RiftUI)

-- Function: open Rift Machine
local function openRiftMachine()
    RiftFrame:Open()
    print("âš™ï¸ Rift Machine UI opened!")
end

-- Function: close Rift Machine
local function closeRiftMachine()
    RiftFrame:Close()
    print("âŒ Rift Machine UI closed!")
end

-- Example: auto-open on script run
openRiftMachine()
end})

local main = GUI:CreateTab("Battle", "swords") -- You can use IconID we didnt impleemnt lucid or any external icons
GUI:CreateSection({
    parent = main, 
    text = "Support Battle"
})
GUI:CreateButton({
    parent = main,
    text = "Auto Swing",
    callback = function()
        local ReplicatedStorage = game:GetService("ReplicatedStorage")

        local onClick = ReplicatedStorage.Packages
            .Knit.Services.ToolService.RE
            .onClick

        -- Toggle system
        local enabled = not _G.AutoSwingEnabled
        _G.AutoSwingEnabled = enabled

        if enabled then
            print("âš¡ Auto Swing ON")
            task.spawn(function()
                while _G.AutoSwingEnabled do
                    onClick:FireServer()
                    task.wait() -- tiny delay to avoid freezing
                end
            end)
        else
            print("ðŸ›‘ Auto Swing OFF")
        end
    end
})

GUI:CreateButton({
    parent = main, 
    text = "Auto  Rebirth and superRebirth", 
    callback = function()
--// Services
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local Knit = ReplicatedStorage:WaitForChild("Packages"):WaitForChild("Knit")

local ToolService = Knit.Services:WaitForChild("ToolService")
local ZoneService = Knit.Services:WaitForChild("ZoneService")
local ArmWrestleService = Knit.Services:WaitForChild("ArmWrestleService")
local RebirthService = Knit.Services:WaitForChild("RebirthService")
local RE = ToolService:WaitForChild("RE")

--// Config
local bicepsThreshold = 2.7399858925901514e+26
local fightPlan = {
    {1, "Spawn", "Champion", 1},
    {2, "Spawn", "RogueAi", 1},
    {3, "Spawn", "KrakenBoss", 2},
    {4, "Spawn", "MutantKing", 2},
    {5, "Spawn", "Mammoth", 3},
    {6, "Spawn", "Udzal", 3},
    {7, "Spawn", "SpaceDog", 4},
    {8, "Spawn", "UndeadSparta", 4},
    {9, "Spawn", "EvilOverseer", 5},
    {10, "Spawn", "BruteHunter", 16},
    {11, "Spawn", "Glaciator", 20},
    {12, "Spawn", "MrLizard", 25},
}

--// State
local autoFarmEnabled, critSpamEnabled, autoEquipEnabled = false, false, true
local fighting, rebirthing, stopFight, waitingForBiceps = false, false, false, false
local lastEquipAttempt, equipRetryDelay = 0, 2

--// Modern GUI
local gui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
gui.Name = "DarkModernGUI"
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 240, 0, 220)
frame.Position = UDim2.new(0.35, 0, 0.2, 0)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
frame.BorderSizePixel = 0
frame.ClipsDescendants = true
frame.BackgroundTransparency = 1
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 8)

-- Drop shadow
local shadow = Instance.new("ImageLabel", frame)
shadow.Name = "DropShadow"
shadow.BackgroundTransparency = 1
shadow.ZIndex = 0
shadow.Image = "rbxassetid://1316045217"
shadow.ImageColor3 = Color3.fromRGB(0,0,0)
shadow.ImageTransparency = 0.4
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(10,10,118,118)
shadow.Size = UDim2.new(1, 30, 1, 30)
shadow.Position = UDim2.new(0, -15, 0, -15)

-- Title bar
local titleBar = Instance.new("Frame", frame)
titleBar.Size = UDim2.new(1, 0, 0, 28)
titleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0, 8)

local title = Instance.new("TextLabel", titleBar)
title.Size = UDim2.new(1, -50, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Text = "âš¡ Auto Rebirth Bot"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.Font = Enum.Font.GothamBold
title.TextSize = 14
title.TextXAlignment = Enum.TextXAlignment.Left

-- Minimize & Close
local minBtn = Instance.new("TextButton", titleBar)
minBtn.Size = UDim2.new(0,20,0,20)
minBtn.Position = UDim2.new(1,-45,0,4)
minBtn.BackgroundTransparency = 1
minBtn.Text = "â€“"
minBtn.TextColor3 = Color3.fromRGB(200,200,200)
minBtn.Font = Enum.Font.GothamBold
minBtn.TextSize = 16

local closeBtn = Instance.new("TextButton", titleBar)
closeBtn.Size = UDim2.new(0,20,0,20)
closeBtn.Position = UDim2.new(1,-25,0,4)
closeBtn.BackgroundTransparency = 1
closeBtn.Text = "Ã—"
closeBtn.TextColor3 = Color3.fromRGB(255,80,80)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 16

-- Body
local body = Instance.new("Frame", frame)
body.Size = UDim2.new(1, -10, 1, -35)
body.Position = UDim2.new(0,5,0,30)
body.BackgroundTransparency = 1

-- Hover effect
local function addHover(btn)
    btn.MouseEnter:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.15), {TextColor3 = Color3.fromRGB(255,255,180)}):Play()
    end)
    btn.MouseLeave:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.15), {TextColor3 = Color3.fromRGB(255,255,255)}):Play()
    end)
end

-- Button factory
local function makeButton(name, y, enabled)
    local btn = Instance.new("TextButton", body)
    btn.Size = UDim2.new(1,-10,0,32)
    btn.Position = UDim2.new(0,5,0,y)
    btn.Text = name..": "..(enabled and "on" or "off")
    btn.BackgroundColor3 = enabled and Color3.fromRGB(50,200,50) or Color3.fromRGB(200,50,50)
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0,6)
    addHover(btn)
    return btn
end

local FarmButton = makeButton("Auto Battle", 5, autoFarmEnabled)
local CritButton = makeButton("Auto Critical", 45, critSpamEnabled)
local EquipButton = makeButton("Auto Equip", 85, autoEquipEnabled)

-- Status label
local StatusLabel = Instance.new("TextLabel", body)
StatusLabel.Size = UDim2.new(1,-10,0,40)
StatusLabel.Position = UDim2.new(0,5,0,135)
StatusLabel.Text = "STATUS: IDLE..."
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.fromRGB(255,255,255)
StatusLabel.Font = Enum.Font.GothamBold
StatusLabel.TextSize = 16
StatusLabel.TextXAlignment = Enum.TextXAlignment.Center
StatusLabel.TextYAlignment = Enum.TextYAlignment.Center

-- Status update function
local function updateStatus(txt)
    StatusLabel.Text = "STATUS: "..string.upper(txt)
end

-- Button logic
FarmButton.MouseButton1Click:Connect(function()
    autoFarmEnabled = not autoFarmEnabled
    FarmButton.Text = "autofarm: "..(autoFarmEnabled and "on" or "off")
    FarmButton.BackgroundColor3 = autoFarmEnabled and Color3.fromRGB(50,200,50) or Color3.fromRGB(200,50,50)
end)

CritButton.MouseButton1Click:Connect(function()
    critSpamEnabled = not critSpamEnabled
    CritButton.Text = "critspam: "..(critSpamEnabled and "on" or "off")
    CritButton.BackgroundColor3 = critSpamEnabled and Color3.fromRGB(50,200,50) or Color3.fromRGB(200,50,50)
end)

EquipButton.MouseButton1Click:Connect(function()
    autoEquipEnabled = not autoEquipEnabled
    EquipButton.Text = "autoequip: "..(autoEquipEnabled and "on" or "off")
    EquipButton.BackgroundColor3 = autoEquipEnabled and Color3.fromRGB(50,200,50) or Color3.fromRGB(200,50,50)
end)

-- Minimize + Close
local minimized = false
minBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        body.Visible = false
        TweenService:Create(frame, TweenInfo.new(0.25), {Size = UDim2.new(0,240,0,28)}):Play()
    else
        TweenService:Create(frame, TweenInfo.new(0.25), {Size = UDim2.new(0,240,0,220)}):Play()
        task.delay(0.25, function() body.Visible = true end)
    end
end)

closeBtn.MouseButton1Click:Connect(function() gui:Destroy() end)

-- Drag highlight
local dragging, dragInput, dragStart, startPos = false
local function setDragHighlight(state)
    TweenService:Create(titleBar, TweenInfo.new(0.2), {
        BackgroundColor3 = state and Color3.fromRGB(50,50,50) or Color3.fromRGB(35,35,35)
    }):Play()
end

titleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = frame.Position
        setDragHighlight(true)
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
                setDragHighlight(false)
            end
        end)
    end
end)

titleBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset+delta.X, startPos.Y.Scale, startPos.Y.Offset+delta.Y)
    end
end)

-- Fade-in
TweenService:Create(frame, TweenInfo.new(0.5), {BackgroundTransparency = 0}):Play()

--// Core Functions
local function getEquipArgs()
    if LocalPlayer:FindFirstChild("Zone") and LocalPlayer.Zone.Value == 1 then
        return {"1","Dumbells","250Kg"}
    end
    return {"21","Dumbells","ThePyramids12"}
end

local function tryEquip()
    local args = getEquipArgs()
    pcall(function() RE.onEquipRequest:FireServer(unpack(args)) end)
end

local function ensureEquipped()
    if not autoEquipEnabled then return end
    local now = tick()
    if now - lastEquipAttempt >= equipRetryDelay then
        lastEquipAttempt = now
        tryEquip()
    end
end

local function teleportAndFight(zoneNumber, spawnName, enemyName, fightCount)
    if stopFight or not autoFarmEnabled then return end
    updateStatus("TELEPORTING Z"..zoneNumber)
    ZoneService.RE.teleport:FireServer(workspace.Zones[tostring(zoneNumber)].Interactables.Teleports.Locations[spawnName])
    task.wait(1)
    ArmWrestleService.RF.SetAuto:InvokeServer(true)
    for i=1,fightCount do
        if stopFight or not autoFarmEnabled then break end
        updateStatus("FIGHTING "..enemyName)
        pcall(function() ArmWrestleService.RF.RequestStartFight:InvokeServer(enemyName) end)
        task.wait(1)
    end
    ArmWrestleService.RF.SetAuto:InvokeServer(false)
end

local function fightAllZones()
    fighting = true
    for _,plan in ipairs(fightPlan) do
        if stopFight or not autoFarmEnabled then break end
        teleportAndFight(plan[1], plan[2], plan[3], plan[4])
    end
    fighting = false
end

local function rebirthCycle()
    rebirthing = true
    stopFight = true
    updateStatus("REBIRTHING...")
    local rebirthRE = RebirthService:WaitForChild("RE")
    rebirthRE:WaitForChild("onRebirthRequest")
    for i=1,100 do rebirthRE.onRebirthRequest:FireServer() end
    rebirthRE.onSuperRebirth:FireServer()
    updateStatus("WAITING BICEPS...")
    waitingForBiceps = true
    stopFight, rebirthing = false, false
end

-- Heartbeat (clicks + crit)
RunService.Heartbeat:Connect(function()
    ensureEquipped()
    if autoFarmEnabled then RE.onClick:FireServer() end
    if critSpamEnabled then
        ArmWrestleService.RF.RequestCritHit:InvokeServer()
        ArmWrestleService.RF.RequestClick:InvokeServer()
    end
end)

-- Main cycle
task.spawn(function()
    while true do
        if autoFarmEnabled and not fighting and not rebirthing then
            if waitingForBiceps then
                if LocalPlayer.leaderstats and LocalPlayer.leaderstats.Biceps and LocalPlayer.leaderstats.Biceps.Value > bicepsThreshold then
                    waitingForBiceps = false
                    fightAllZones()
                    rebirthCycle()
                end
            else
                fightAllZones()
                rebirthCycle()
            end
        end
        if not autoFarmEnabled and not critSpamEnabled then
            updateStatus("IDLE...")
        end
        task.wait(1)
    end
end)
end})
GUI:CreateToggle({
    parent = main,
    text = "Auto Delete fight & GameUI",
    default = false,
    callback = function(delfight)
      local Players = game:GetService("Players")
        local RunService = game:GetService("RunService")

        -- Connections we will disconnect later
        local heartbeatConn
        local playerAddedConn

        -- Function to monitor a player's PlayerGui
        local function monitorPlayerGui(player)
            local playerGui = player:WaitForChild("PlayerGui")

            -- Delete existing GUIs
            for _, guiName in ipairs({"Fighting", "GameUI"}) do
                local gui = playerGui:FindFirstChild(guiName)
                if gui then
                    gui:Destroy()
                end
            end

            -- Delete any new GUIs when added
            playerGui.ChildAdded:Connect(function(child)
                if delfight and (child.Name == "Fighting" or child.Name == "GameUI") then
                    child:Destroy()
                end
            end)
        end

        if delfight then
            -- Apply to current players
            for _, player in ipairs(Players:GetPlayers()) do
                monitorPlayerGui(player)
            end

            -- Apply to new players
            playerAddedConn = Players.PlayerAdded:Connect(monitorPlayerGui)

            -- Continuous deletion loop (failsafe)
            heartbeatConn = RunService.Heartbeat:Connect(function()
                for _, player in ipairs(Players:GetPlayers()) do
                    local playerGui = player:FindFirstChild("PlayerGui")
                    if playerGui then
                        for _, guiName in ipairs({"Fighting", "GameUI"}) do
                            local gui = playerGui:FindFirstChild(guiName)
                            if gui then
                                gui:Destroy()
                            end
                        end
                    end
                end
            end)
        else
            -- Toggle off: disconnect everything
            if heartbeatConn then
                heartbeatConn:Disconnect()
                heartbeatConn = nil
            end
            if playerAddedConn then
                playerAddedConn:Disconnect()
                playerAddedConn = nil
            end
        end
    end
})  
GUI:CreateToggle({
    parent = main,
    text = "Auto Crit/Click",
    default = false,
    callback = function(critclik)
        --// Services
        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local RunService = game:GetService("RunService")

        local player = Players.LocalPlayer

        --// Remote references
        local ArmWrestleService = ReplicatedStorage:WaitForChild("Packages")
            :WaitForChild("Knit")
            :WaitForChild("Services")
            :WaitForChild("ArmWrestleService")
            :WaitForChild("RF")

        local RequestClick = ArmWrestleService:WaitForChild("RequestClick")
        local RequestCritHit = ArmWrestleService:WaitForChild("RequestCritHit")

        --// Toggle states
        local autoClick = critclik
        local autoCrit = critclik

        --// Super fast loop
        RunService.RenderStepped:Connect(function()
            if autoClick then
                pcall(function()
                    RequestClick:InvokeServer()
                end)
            end
            if autoCrit then
                pcall(function()
                    RequestCritHit:InvokeServer()
                end)
            end
        end)
    end
})

GUI:CreateToggle({
    parent = main,
    text = "Auto Battle Bot",
    default = false,
    callback = function(battlebot)
        _G.battlebot1 = battlebot

        if battlebot then
            task.spawn(function()
                -- ===== SERVICES & RF (only once) =====
                local Players = game:GetService("Players")
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local player = Players.LocalPlayer

                local Knit = require(ReplicatedStorage.Packages.Knit)
                local ArmWrestleService = Knit.GetService("ArmWrestleService")
                local ArmWrestleController = Knit.GetController("ArmWrestleController")

                local ClickRF = ReplicatedStorage.Packages.Knit.Services.ArmWrestleService.RF.RequestClick
                local CritRF = ReplicatedStorage.Packages.Knit.Services.ArmWrestleService.RF.RequestCritHit

                -- ===== FUNCTIONS =====
                local function AutoFight(npcName)
                    ArmWrestleController.RequestStartFight(npcName or "PumpkinDemon")
                    ArmWrestleService:SetAuto(true)
                end

                local function AutoCrit()
                    pcall(CritRF.InvokeServer, CritRF)
                end

                local function AutoHit()
                    pcall(ClickRF.InvokeServer, ClickRF)
                end

                -- ===== MAIN LOOP =====
                while _G.battlebot1 do
                    AutoFight("Frost Guard")
                    AutoCrit()
                    AutoHit()
                    task.wait() -- yields for one frame; fastest safe loop
                end
            end)
        end

        print("Toggle state:", battlebot)
    end})
GUI:CreateButton({
    parent = main, 
    text = "Auto Tower Bot", 
    callback = function()
-- âš¡ Auto Tower + Spam Click Modern GUI
-- Features: Draggable, Minimize/Unminimize with Floating Button, X Close, Loop + SpamClick

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

-- Knit
local Knit = require(ReplicatedStorage.Packages.Knit)
local ArmWrestleController = Knit.GetController("ArmWrestleController")

-- TowerService
local TowerService = ReplicatedStorage
    :WaitForChild("Packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("TowerService")
    :WaitForChild("RF")
    :WaitForChild("EnterTower")

-- State
local AutoTower = false
local towerName = "MiningTower"
local loopTask
local clickSpam
local Minimized = false

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "AutoTowerLoopGui"
gui.Parent = player:WaitForChild("PlayerGui")
gui.ResetOnSpawn = false

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 260, 0, 160)
frame.Position = UDim2.new(0.35, 0, 0.25, 0)
frame.BackgroundColor3 = Color3.fromRGB(25,25,25)
frame.Active = true
frame.Draggable = true
frame.Parent = gui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0,10)

-- Title bar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1,0,0,35)
titleBar.BackgroundColor3 = Color3.fromRGB(45,45,45)
titleBar.Parent = frame
Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0,10)

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,-60,1,0)
title.Position = UDim2.new(0,10,0,0)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255,255,255)
title.Text = "âš¡ Auto Tower"
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = titleBar

-- Minimize button
local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0,30,0,30)
minimizeBtn.Position = UDim2.new(1,-60,0,3)
minimizeBtn.BackgroundColor3 = Color3.fromRGB(90,90,90)
minimizeBtn.Text = "-"
minimizeBtn.TextColor3 = Color3.fromRGB(255,255,255)
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.TextSize = 20
minimizeBtn.Parent = titleBar
Instance.new("UICorner", minimizeBtn).CornerRadius = UDim.new(0,6)

-- Close button
local closeBtn = Instance.new("TextButton")
closeBtn.Size = UDim2.new(0,30,0,30)
closeBtn.Position = UDim2.new(1,-30,0,3)
closeBtn.BackgroundColor3 = Color3.fromRGB(150,0,0)
closeBtn.Text = "X"
closeBtn.TextColor3 = Color3.fromRGB(255,255,255)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 18
closeBtn.Parent = titleBar
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0,6)

-- Input box
local inputBox = Instance.new("TextBox")
inputBox.Size = UDim2.new(1,-20,0,30)
inputBox.Position = UDim2.new(0,10,0,50)
inputBox.BackgroundColor3 = Color3.fromRGB(40,40,40)
inputBox.TextColor3 = Color3.fromRGB(255,255,255)
inputBox.PlaceholderText = "Enter Tower name..."
inputBox.Text = towerName
inputBox.Font = Enum.Font.Gotham
inputBox.TextSize = 16
inputBox.Parent = frame
Instance.new("UICorner", inputBox).CornerRadius = UDim.new(0,6)

-- Start/Stop button
local button = Instance.new("TextButton")
button.Size = UDim2.new(1,-20,0,35)
button.Position = UDim2.new(0,10,0,95)
button.BackgroundColor3 = Color3.fromRGB(80,0,0)
button.TextColor3 = Color3.fromRGB(255,255,255)
button.Text = "Start Loop"
button.Font = Enum.Font.GothamBold
button.TextSize = 18
button.Parent = frame
Instance.new("UICorner", button).CornerRadius = UDim.new(0,8)

-- Floating mini button (âš¡)
local miniButton = Instance.new("TextButton")
miniButton.Size = UDim2.new(0,120,0,35)
miniButton.Position = UDim2.new(0,10,1,-50)
miniButton.BackgroundColor3 = Color3.fromRGB(45,45,45)
miniButton.Text = "âš¡ Auto Tower"
miniButton.TextColor3 = Color3.fromRGB(255,255,255)
miniButton.Font = Enum.Font.GothamBold
miniButton.TextSize = 14
miniButton.Visible = false
miniButton.Active = true
miniButton.Draggable = true
Instance.new("UICorner", miniButton).CornerRadius = UDim.new(0,8)
miniButton.Parent = gui

-- Functions
local function StartLoop()
    if AutoTower then return end
    AutoTower = true
    button.Text = "Stop Loop"
    button.BackgroundColor3 = Color3.fromRGB(0,120,0)

    towerName = inputBox.Text ~= "" and inputBox.Text or towerName

    loopTask = task.spawn(function()
        while AutoTower do
            TowerService:InvokeServer(towerName, true)

            clickSpam = RunService.Heartbeat:Connect(function()
                ArmWrestleController.MouseClick(Enum.UserInputType.MouseButton1, false)
            end)

            task.wait(15) -- adjust duration
            if clickSpam then
                clickSpam:Disconnect()
                clickSpam = nil
            end
            task.wait(1)
        end
    end)
end

local function StopLoop()
    if not AutoTower then return end
    AutoTower = false
    button.Text = "Start Loop"
    button.BackgroundColor3 = Color3.fromRGB(80,0,0)
    if clickSpam then
        clickSpam:Disconnect()
        clickSpam = nil
    end
end

-- Button toggle
button.MouseButton1Click:Connect(function()
    if AutoTower then StopLoop() else StartLoop() end
end)

-- Close button
closeBtn.MouseButton1Click:Connect(function()
    StopLoop()
    gui:Destroy()
end)

-- Minimize / Unminimize
minimizeBtn.MouseButton1Click:Connect(function()
    Minimized = true
    frame.Visible = false
    miniButton.Visible = true
end)

miniButton.MouseButton1Click:Connect(function()
    Minimized = false
    frame.Visible = true
    miniButton.Visible = false
end)
end})
GUI:CreateButton({
    parent = main, 
    text = "Auto Trial", 
    callback = function()
-- Modern Compact GUI with Loop & Color State
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Knit Service Remote
local RequestJoin = ReplicatedStorage
    :WaitForChild("Packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("ChampionshipService")
    :WaitForChild("RF")
    :WaitForChild("RequestJoin")

-- ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ChampionshipGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 280, 0, 130)
mainFrame.Position = UDim2.new(0.35, 0, 0.35, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui
Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 10)

-- Top Bar
local topBar = Instance.new("Frame")
topBar.Size = UDim2.new(1, 0, 0, 28)
topBar.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
topBar.BorderSizePixel = 0
topBar.Parent = mainFrame
Instance.new("UICorner", topBar).CornerRadius = UDim.new(0, 10)

-- Title
local title = Instance.new("TextLabel")
title.Text = "Trial Bot"
title.Font = Enum.Font.GothamBold
title.TextSize = 13
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.BackgroundTransparency = 1
title.Size = UDim2.new(1, -60, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = topBar

-- Close Button (X)
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 28, 1, 0)
closeButton.Position = UDim2.new(1, -28, 0, 0)
closeButton.Text = "X"
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 14
closeButton.TextColor3 = Color3.fromRGB(255, 80, 80)
closeButton.BackgroundTransparency = 1
closeButton.Parent = topBar

-- Minimize Button (-)
local minimizeButton = Instance.new("TextButton")
minimizeButton.Size = UDim2.new(0, 28, 1, 0)
minimizeButton.Position = UDim2.new(1, -56, 0, 0)
minimizeButton.Text = "-"
minimizeButton.Font = Enum.Font.GothamBold
minimizeButton.TextSize = 16
minimizeButton.TextColor3 = Color3.fromRGB(200, 200, 200)
minimizeButton.BackgroundTransparency = 1
minimizeButton.Parent = topBar

-- Text Box
local textBox = Instance.new("TextBox")
textBox.PlaceholderText = "Enter name (e.g. Medieval)"
textBox.Font = Enum.Font.Gotham
textBox.TextSize = 13
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
textBox.Size = UDim2.new(1, -40, 0, 32)
textBox.Position = UDim2.new(0, 20, 0, 40)
textBox.ClearTextOnFocus = false
textBox.Parent = mainFrame
Instance.new("UICorner", textBox).CornerRadius = UDim.new(0, 8)

-- Start/Stop Button
local joinButton = Instance.new("TextButton")
joinButton.Text = "Start"
joinButton.Font = Enum.Font.GothamBold
joinButton.TextSize = 15
joinButton.TextColor3 = Color3.fromRGB(255, 255, 255)
joinButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0) -- green for start
joinButton.Size = UDim2.new(0, 100, 0, 35)
joinButton.Position = UDim2.new(0.5, -50, 1, -45)
joinButton.Parent = mainFrame
Instance.new("UICorner", joinButton).CornerRadius = UDim.new(0, 8)

-- Loop state
local looping = false
local minimized = false

-- Minimize
minimizeButton.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        mainFrame.Size = UDim2.new(0, 280, 0, 28)
    else
        mainFrame.Size = UDim2.new(0, 280, 0, 130)
    end
end)

-- Close
closeButton.MouseButton1Click:Connect(function()
    looping = false
    screenGui:Destroy()
end)

-- Toggle loop
joinButton.MouseButton1Click:Connect(function()
    if looping then
        looping = false
        joinButton.Text = "Start"
        joinButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0) -- green
    else
        local input = textBox.Text
        if input ~= "" then
            looping = true
            joinButton.Text = "Stop"
            joinButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0) -- red
            task.spawn(function()
                while looping do
                    local success, result = pcall(function()
                        return RequestJoin:InvokeServer(input)
                    end)
                    if success then
                        warn("Joined championship: " .. tostring(input))
                    else
                        warn("Failed: " .. tostring(result))
                    end
                    task.wait(5)
                end
            end)
        end
    end
end)
end})
local main = GUI:CreateTab("Misc", "circle-ellipsis") -- You can use IconID we didnt impleemnt lucid or any external icons
GUI:CreateSection({
    parent = main, 
    text = "Option"
})
GUI:CreateButton({
    parent = main, 
    text = "Auto CLick", 
    callback = function()
getgenv().key = "Hostile"
loadstring(game:HttpGet("https://raw.githubusercontent.com/Hosvile/The-telligence/main/MC%20KSystem%202"))()
end})

GUI:CreateButton({
    parent = main,
    text = "Auto Mutate",
    callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Zeon00/other/refs/heads/main/AutoMutate"))()
    end
})

GUI:CreateToggle({
    parent = main,
    text = "Anti AFK",
    default = true,
    callback = function(enabled)
        if enabled then
            -- Aktifkan anti AFK
            if not _G.AntiAFKConnection then
                local VirtualUser = game:GetService("VirtualUser")
                _G.AntiAFKConnection = game:GetService("Players").LocalPlayer.Idled:Connect(function()
                    VirtualUser:CaptureController()
                    VirtualUser:ClickButton2(Vector2.new())
                end)

                game:GetService("StarterGui"):SetCore("SendNotification", {
                    Title = "Anti AFK",
                    Text = "Anti AFK activated âœ…",
                    Duration = 4
                })
            end
        else
            -- Matikan anti AFK
            if _G.AntiAFKConnection then
                _G.AntiAFKConnection:Disconnect()
                _G.AntiAFKConnection = nil
                game:GetService("StarterGui"):SetCore("SendNotification", {
                    Title = "Anti AFK",
                    Text = "Anti AFK deactivated âŒ",
                    Duration = 4
                })
            end
        end
    end
})



GUI:CreateButton({
    parent = main, 
    text = "Use Item", 
    callback = function()
--// Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

--// RemoteFunction reference
local useItem = ReplicatedStorage
    :WaitForChild("Packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("ItemService")
    :WaitForChild("RF")
    :WaitForChild("UseItem")

--// Items list
local items = {
    {"Cookie", "3"},
    {"Donut", "3"},
    {"Banana", "2"},
    {"Dragon Fruit", "3"},
    {"Starfruit", "3"},
    {"Raspberry", "2"},
    {"Gemstone Cereal", "1"}
}

--// GUI Setup
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "ItemGUI"
gui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame", gui)
mainFrame.Size = UDim2.new(0, 320, 0, 420)
mainFrame.Position = UDim2.new(0.5, -160, 0.5, -210)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
mainFrame.Active = true
mainFrame.Draggable = true

local corner = Instance.new("UICorner", mainFrame)
corner.CornerRadius = UDim.new(0, 12)

-- Title Bar
local titleBar = Instance.new("Frame", mainFrame)
titleBar.Size = UDim2.new(1, 0, 0, 35)
titleBar.BackgroundColor3 = Color3.fromRGB(45, 45, 55)

Instance.new("UICorner", titleBar).CornerRadius = UDim.new(0, 12)

local title = Instance.new("TextLabel", titleBar)
title.Size = UDim2.new(1, -70, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Item Spammer"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Font = Enum.Font.GothamBold
title.TextSize = 16

-- Minimize + Close buttons
local minimizeBtn = Instance.new("TextButton", titleBar)
minimizeBtn.Size = UDim2.new(0, 30, 0, 25)
minimizeBtn.Position = UDim2.new(1, -65, 0.5, -12)
minimizeBtn.Text = "_"
minimizeBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 90)
minimizeBtn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", minimizeBtn).CornerRadius = UDim.new(0, 6)

local closeBtn = Instance.new("TextButton", titleBar)
closeBtn.Size = UDim2.new(0, 30, 0, 25)
closeBtn.Position = UDim2.new(1, -35, 0.5, -12)
closeBtn.Text = "X"
closeBtn.BackgroundColor3 = Color3.fromRGB(100, 60, 60)
closeBtn.TextColor3 = Color3.new(1, 1, 1)
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 6)

-- Container for items
local contentFrame = Instance.new("Frame", mainFrame)
contentFrame.Size = UDim2.new(1, -20, 1, -80)
contentFrame.Position = UDim2.new(0, 10, 0, 45)
contentFrame.BackgroundTransparency = 1

local scroll = Instance.new("ScrollingFrame", contentFrame)
scroll.Size = UDim2.new(1, 0, 1, -40)
scroll.CanvasSize = UDim2.new(0, 0, 0, #items * 40)
scroll.ScrollBarThickness = 6
scroll.BackgroundTransparency = 1

local layout = Instance.new("UIListLayout", scroll)
layout.Padding = UDim.new(0, 5)
layout.SortOrder = Enum.SortOrder.LayoutOrder

-- Store item widgets
local itemWidgets = {}

for _, data in ipairs(items) do
    local name, value = data[1], data[2]

    local container = Instance.new("Frame", scroll)
    container.Size = UDim2.new(1, -5, 0, 35)
    container.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
    Instance.new("UICorner", container).CornerRadius = UDim.new(0, 8)

    local checkbox = Instance.new("TextButton", container)
    checkbox.Size = UDim2.new(0, 30, 1, 0)
    checkbox.Text = "â˜"
    checkbox.TextScaled = true
    checkbox.BackgroundTransparency = 1
    checkbox.TextColor3 = Color3.fromRGB(200, 200, 200)

    local label = Instance.new("TextLabel", container)
    label.Size = UDim2.new(0.5, -40, 1, 0)
    label.Position = UDim2.new(0, 40, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = name
    label.TextColor3 = Color3.new(1,1,1)
    label.Font = Enum.Font.Gotham
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.TextSize = 14

    local input = Instance.new("TextBox", container)
    input.Size = UDim2.new(0.4, -10, 0.8, 0)
    input.Position = UDim2.new(0.6, 0, 0.1, 0)
    input.PlaceholderText = "Times"
    input.Text = "25"
    input.Font = Enum.Font.Gotham
    input.TextSize = 14
    input.BackgroundColor3 = Color3.fromRGB(70, 70, 85)
    input.TextColor3 = Color3.new(1,1,1)
    Instance.new("UICorner", input).CornerRadius = UDim.new(0, 6)

    -- State
    local checked = false
    checkbox.MouseButton1Click:Connect(function()
        checked = not checked
        checkbox.Text = checked and "â˜‘" or "â˜"
    end)

    table.insert(itemWidgets, {
        name = name,
        value = value,
        input = input,
        getChecked = function() return checked end
    })
end

-- Run button
local runBtn = Instance.new("TextButton", contentFrame)
runBtn.Size = UDim2.new(1, 0, 0, 35)
runBtn.Position = UDim2.new(0, 0, 1, -35)
runBtn.Text = "Use Selected"
runBtn.Font = Enum.Font.GothamBold
runBtn.TextSize = 14
runBtn.BackgroundColor3 = Color3.fromRGB(70, 120, 70)
runBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", runBtn).CornerRadius = UDim.new(0, 8)

-- Run logic
runBtn.MouseButton1Click:Connect(function()
    for _, widget in ipairs(itemWidgets) do
        if widget.getChecked() then
            local times = tonumber(widget.input.Text) or 1
            for i = 1, times do
                useItem:InvokeServer(widget.name, widget.value)
                task.wait(0.1)
            end
        end
    end
end)

-- Minimize toggle
local minimized = false
minimizeBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    contentFrame.Visible = not minimized
    runBtn.Visible = not minimized
end)

-- Close button
closeBtn.MouseButton1Click:Connect(function()
    gui:Destroy()
end)
end})
GUI:CreateButton({
    parent = main, 
    text = "Reedem Gamepass", 
    callback = function()
	local claim = game:GetService("ReplicatedStorage")
    :WaitForChild("Packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("SeasonPassService")
    :WaitForChild("RF")
    :WaitForChild("Claim")

claim:InvokeServer("Regular",1)
claim:InvokeServer("Regular",2)
claim:InvokeServer("Regular",3)
claim:InvokeServer("Regular",4)
claim:InvokeServer("Regular",5)
claim:InvokeServer("Regular",6)
claim:InvokeServer("Regular",7)
claim:InvokeServer("Regular",8)
claim:InvokeServer("Regular",9)
claim:InvokeServer("Regular",10)
claim:InvokeServer("Regular",11)
claim:InvokeServer("Regular",12)
claim:InvokeServer("Regular",13)
claim:InvokeServer("Regular",14)
claim:InvokeServer("Regular",15)
claim:InvokeServer("Regular",16)
claim:InvokeServer("Regular",17)
claim:InvokeServer("Regular",18)
claim:InvokeServer("Regular",19)
claim:InvokeServer("Regular",20)
claim:InvokeServer("Regular",21)
claim:InvokeServer("Regular",22)
claim:InvokeServer("Regular",23)
claim:InvokeServer("Regular",24)
claim:InvokeServer("Regular",25)
claim:InvokeServer("Regular",26)
claim:InvokeServer("Regular",27)
claim:InvokeServer("Regular",28)
claim:InvokeServer("Regular",29)
claim:InvokeServer("Regular",30)

end
})
GUI:CreateButton({
    parent = main, 
    text = "Reedem Code", 
    callback = function()
local redeem = game:GetService("ReplicatedStorage")
    :WaitForChild("Packages")
    :WaitForChild("Knit")
    :WaitForChild("Services")
    :WaitForChild("CodeRedemptionService")
    :WaitForChild("RE")
    :WaitForChild("onRedeem")

redeem:FireServer("banker")
redeem:FireServer("sorryoops")
redeem:FireServer("timetravel")
redeem:FireServer("world19")
redeem:FireServer("bulk")
redeem:FireServer("superhero")
redeem:FireServer("tokenstore")
redeem:FireServer("captain")
redeem:FireServer("skullbeard")
redeem:FireServer("pirate")
redeem:FireServer("athlete")
redeem:FireServer("tradingback")
redeem:FireServer("blossom")
redeem:FireServer("ninja")
redeem:FireServer("snowops")
redeem:FireServer("hideout")
redeem:FireServer("cosmic")
redeem:FireServer("stocking")
redeem:FireServer("frostlands")
redeem:FireServer("polar")
redeem:FireServer("shiny")
redeem:FireServer("Christmas")
redeem:FireServer("hacker")
redeem:FireServer("classic")
redeem:FireServer("clans")
redeem:FireServer("rifted")
redeem:FireServer("hauntedmanor")
redeem:FireServer("trainers")
redeem:FireServer("ghosthunting")
redeem:FireServer("spooky")
redeem:FireServer("soon")
redeem:FireServer("hatching")
redeem:FireServer("billion")
redeem:FireServer("Heavenly")
redeem:FireServer("rework")
redeem:FireServer("paradise")
redeem:FireServer("wasteland")
redeem:FireServer("apocalypse")
redeem:FireServer("energy")
redeem:FireServer("royalty")
redeem:FireServer("performance")
redeem:FireServer("charms")
redeem:FireServer("wizard")
redeem:FireServer("atlantis")
redeem:FireServer("800mvisits")
redeem:FireServer("icecold")
redeem:FireServer("forging")
redeem:FireServer("noob")
redeem:FireServer("fixingstuff")
redeem:FireServer("celebration")
redeem:FireServer("glassbridge")
redeem:FireServer("octogames")
redeem:FireServer("brainrot")
redeem:FireServer("21iscoming")
redeem:FireServer("welovemining")
redeem:FireServer("sorryfordelay")
redeem:FireServer("iceycode")
redeem:FireServer("toyfactory")
redeem:FireServer("christmaspart2")
redeem:FireServer("weds67")
redeem:FireServer("sorryaboutthat")
redeem:FireServer("northpole")
end})

local main = GUI:CreateTab("New Event", "squircle") -- You can use IconID we didnt impleemnt lucid or any external icons
GUI:CreateSection({
    parent = main, 
    text = "Option"
})
GUI:CreateButton({
    parent = main, 
    text = "Open Chest", 
    callback = function()
-----------------------------------------------------------------------
-- SERVICES
-----------------------------------------------------------------------
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer

-----------------------------------------------------------------------
-- WINDOW FACTORY
-----------------------------------------------------------------------
local function createWindow(name, titleText, posX)
    local gui = Instance.new("ScreenGui", player.PlayerGui)
    gui.Name = name
    gui.ResetOnSpawn = false

    local main = Instance.new("Frame", gui)
    main.Size = UDim2.new(0, 260, 0, 260)
    main.Position = UDim2.new(posX, 0, 0.25, 0)
    main.BackgroundColor3 = Color3.fromRGB(20,20,20)
    Instance.new("UICorner", main).CornerRadius = UDim.new(0, 10)

    local header = Instance.new("Frame", main)
    header.Size = UDim2.new(1, 0, 0, 32)
    header.BackgroundColor3 = Color3.fromRGB(30,30,30)
    Instance.new("UICorner", header).CornerRadius = UDim.new(0,10)

    local title = Instance.new("TextLabel", header)
    title.Size = UDim2.new(1, -60, 1, 0)
    title.Position = UDim2.new(0, 10, 0, 0)
    title.BackgroundTransparency = 1
    title.Text = titleText
    title.TextSize = 14
    title.Font = Enum.Font.GothamSemibold
    title.TextColor3 = Color3.new(1,1,1)

    local closeX = Instance.new("TextButton", header)
    closeX.Size = UDim2.new(0,22,0,22)
    closeX.Position = UDim2.new(1,-30,0,5)
    closeX.Text = "x"
    closeX.TextSize = 14
    closeX.Font = Enum.Font.GothamBold
    closeX.TextColor3 = Color3.fromRGB(255,120,120)
    closeX.BackgroundColor3 = Color3.fromRGB(60,30,30)
    Instance.new("UICorner", closeX).CornerRadius = UDim.new(1,0)
    closeX.MouseButton1Click:Connect(function() gui:Destroy() end)

    -- drag
    local dragging, dragStart, startPos
    header.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = main.Position
        end
    end)
    header.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then dragging = false end
    end)
    UIS.InputChanged:Connect(function(input)
        if dragging then
            local delta = input.Position - dragStart
            main.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                                      startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)

    return gui, main
end

-----------------------------------------------------------------------
-- TOGGLE FACTORY (FINAL FIX)
-----------------------------------------------------------------------
local function makeToggle(parent, label)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, 0, 0, 38)
    button.BackgroundColor3 = Color3.fromRGB(40,40,40)
    button.Text = label.." : OFF"
    button.TextColor3 = Color3.new(1,1,1)
    button.TextSize = 12
    button.Font = Enum.Font.Gotham
    button.Parent = parent
    Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

    -- toggle state
    local state = false

    button.MouseButton1Click:Connect(function()
        state = not state
        button.Text = label .. " : " .. (state and "ON" or "OFF")
        button.BackgroundColor3 = state and Color3.fromRGB(0,150,255) or Color3.fromRGB(40,40,40)
    end)

    return button, function() return state end
end

-----------------------------------------------------------------------
-- LIST
-----------------------------------------------------------------------
local chestList = {
    "HauntedChest",
    "MagicChest",
    "GoldenChest",
}

local spinList = {
    "Carnival Fortune",
    "Underworld Fortune",
}

-----------------------------------------------------------------------
-- CHEST WINDOW
-----------------------------------------------------------------------
local chestGUI, chestMain = createWindow("ChestHub", "Chest Hub", 0.15)

local chestContainer = Instance.new("Frame", chestMain)
chestContainer.Size = UDim2.new(1,-20,1,-40)
chestContainer.Position = UDim2.new(0,10,0,40)
chestContainer.BackgroundTransparency = 1

local chestLayout = Instance.new("UIListLayout", chestContainer)
chestLayout.Padding = UDim.new(0,6)

local chestToggles = {}

for _, chestName in ipairs(chestList) do
    local button, getState = makeToggle(chestContainer, chestName)
    chestToggles[chestName] = getState
end

-----------------------------------------------------------------------
-- SPIN WINDOW
-----------------------------------------------------------------------
local spinGUI, spinMain = createWindow("SpinHub", "Spin Hub", 0.45)

local spinContainer = Instance.new("Frame", spinMain)
spinContainer.Size = UDim2.new(1,-20,1,-40)
spinContainer.Position = UDim2.new(0,10,0,40)
spinContainer.BackgroundTransparency = 1

local spinLayout = Instance.new("UIListLayout", spinContainer)
spinLayout.Padding = UDim.new(0,6)

local spinToggles = {}

for _, spinName in ipairs(spinList) do
    local button, getState = makeToggle(spinContainer, spinName)
    spinToggles[spinName] = getState
end

-----------------------------------------------------------------------
-- AUTO LOOP
-----------------------------------------------------------------------
task.spawn(function()
    while task.wait(0.05) do
        
        -- Per-Chest Toggle
        for chestName, stateFunc in pairs(chestToggles) do
            if stateFunc() then
                ReplicatedStorage.Packages.Knit.Services.ChestService.RF.Open:InvokeServer(chestName)
            end
        end

        -- Per-Spin Toggle
        for spinName, stateFunc in pairs(spinToggles) do
            if stateFunc() then
                ReplicatedStorage.Packages.Knit.Services.SpinnerService.RF.Spin:InvokeServer(spinName, "x25")
            end
        end

    end
end)
    end
})
GUI:CreateButton({
    parent = main, 
    text = "Event Admin", 
    callback = function()
-- Modern Arm Wrestle Hub (Final Fixed Version)
-- By ChatGPT

local Players = game:GetService("Players")
local RS = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- // UI
local gui = Instance.new("ScreenGui", player.PlayerGui)
gui.Name = "ArmHubModern"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 300, 0, 260)
main.Position = UDim2.new(0.5, -150, 0.5, -130)
main.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true

Instance.new("UICorner", main).CornerRadius = UDim.new(0, 10)

local shadow = Instance.new("ImageLabel", main)
shadow.AnchorPoint = Vector2.new(0.5, 0.5)
shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
shadow.Size = UDim2.new(1, 30, 1, 30)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxassetid://6894899453"
shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
shadow.ImageTransparency = 0.4

-- HEADER
local header = Instance.new("Frame", main)
header.Size = UDim2.new(1, 0, 0, 32)
header.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Instance.new("UICorner", header)

local title = Instance.new("TextLabel", header)
title.Size = UDim2.new(1, -60, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 15
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Text = "âš¡ Arm Wrestle Hub"

local mini = Instance.new("TextButton", header)
mini.Size = UDim2.new(0, 30, 1, 0)
mini.Position = UDim2.new(1, -60, 0, 0)
mini.BackgroundTransparency = 1
mini.Text = "-"
mini.Font = Enum.Font.GothamBlack
mini.TextSize = 20
mini.TextColor3 = Color3.fromRGB(200, 200, 200)

local close = Instance.new("TextButton", header)
close.Size = UDim2.new(0, 30, 1, 0)
close.Position = UDim2.new(1, -30, 0, 0)
close.BackgroundTransparency = 1
close.Text = "X"
close.Font = Enum.Font.GothamBlack
close.TextSize = 18
close.TextColor3 = Color3.fromRGB(255, 70, 70)

close.MouseButton1Click:Connect(function()
	gui:Destroy()
end)

-- Minimize Logic
local minimized = false
mini.MouseButton1Click:Connect(function()
    minimized = not minimized

    if minimized then
        -- Sembunyikan semua isi kecuali header
        for _, v in pairs(main:GetChildren()) do
            if v ~= header and v ~= shadow then
                v.Visible = false
            end
        end
        
        main:TweenSize(UDim2.new(0, 300, 0, 32), "Out", "Quad", 0.25, true)

    else
        main:TweenSize(UDim2.new(0, 300, 0, 260), "Out", "Quad", 0.25, true)

        -- Tampilkan kembali isi
        for _, v in pairs(main:GetChildren()) do
            if v ~= header and v ~= shadow then
                v.Visible = true
            end
        end
    end
end)


--------------------------------------------------------
-- NPC Auto Detect
--------------------------------------------------------
local npcFolder = workspace:WaitForChild("GameObjects").ArmWrestling.AdminEvent.NPC
local npcList = {}

for _, v in ipairs(npcFolder:GetChildren()) do
	if v:IsA("Model") then
		table.insert(npcList, v.Name)
	end
end

local index = 1

-- Selector UI
local selector = Instance.new("Frame", main)
selector.Size = UDim2.new(1, 0, 0, 40)
selector.Position = UDim2.new(0, 0, 0, 40)
selector.BackgroundTransparency = 1

local left = Instance.new("TextButton", selector)
left.Size = UDim2.new(0, 40, 1, 0)
left.Text = "â—€"
left.TextSize = 28
left.Font = Enum.Font.GothamBlack
left.BackgroundTransparency = 1
left.TextColor3 = Color3.fromRGB(255, 255, 255)

local right = Instance.new("TextButton", selector)
right.Size = UDim2.new(0, 40, 1, 0)
right.Position = UDim2.new(1, -40, 0, 0)
right.Text = "â–¶"
right.TextSize = 28
right.Font = Enum.Font.GothamBlack
right.BackgroundTransparency = 1
right.TextColor3 = Color3.fromRGB(255, 255, 255)

local nameNPC = Instance.new("TextLabel", selector)
nameNPC.Size = UDim2.new(1, 0, 1, 0)
nameNPC.BackgroundTransparency = 1
nameNPC.Position = UDim2.new(0, 0, 0, 0)
nameNPC.Font = Enum.Font.GothamBold
nameNPC.TextSize = 16
nameNPC.TextColor3 = Color3.fromRGB(255, 255, 255)
nameNPC.Text = npcList[index]

left.MouseButton1Click:Connect(function()
	index -= 1
	if index < 1 then index = #npcList end
	nameNPC.Text = npcList[index]
end)

right.MouseButton1Click:Connect(function()
	index += 1
	if index > #npcList then index = 1 end
	nameNPC.Text = npcList[index]
end)

--------------------------------------------------------
-- Toggle Builder
--------------------------------------------------------
local function createToggle(text, order, callback)
	local frame = Instance.new("Frame", main)
	frame.Size = UDim2.new(1, -20, 0, 30)
	frame.Position = UDim2.new(0, 10, 0, 90 + (order * 35))
	frame.BackgroundTransparency = 1

	local label = Instance.new("TextLabel", frame)
	label.Size = UDim2.new(1, -60, 1, 0)
	label.BackgroundTransparency = 1
	label.Text = text
	label.Font = Enum.Font.Gotham
	label.TextSize = 14
	label.TextColor3 = Color3.fromRGB(240, 240, 240)
	label.TextXAlignment = Enum.TextXAlignment.Left

	local btn = Instance.new("TextButton", frame)
	btn.Size = UDim2.new(0, 55, 1, 0)
	btn.Position = UDim2.new(1, -55, 0, 0)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 12
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.BackgroundColor3 = Color3.fromRGB(90, 30, 30)
	btn.Text = "OFF"
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)

	local state = false

	btn.MouseButton1Click:Connect(function()
		state = not state
		if state then
			btn.Text = "ON"
			btn.BackgroundColor3 = Color3.fromRGB(25, 150, 25)
		else
			btn.Text = "OFF"
			btn.BackgroundColor3 = Color3.fromRGB(90, 30, 30)
		end
		callback(state)
	end)
end

--------------------------------------------------------
-- FINAL FIXED TOGGLES
--------------------------------------------------------

-- AUTO FIGHT
local autoFight = false
createToggle("Auto Fight", 1, function(on)
	autoFight = on
	task.spawn(function()
		while autoFight do
			local args = { npcList[index] }
			RS.Packages.Knit.Services.ArmWrestleService.RF.RequestStartFight:InvokeServer(unpack(args))
			RS.Packages.Knit.Services.ArmWrestleService.RF.SetAuto:InvokeServer(true)
			task.wait(0.05)
		end
	end)
end)

-- AUTO GRIPS
local autoGrips = false
createToggle("Auto Grips", 2, function(on)
	autoGrips = on
	task.spawn(function()
		while autoGrips do
			local args = {"AdminEvent", "Grips", "AdminEvent12"}
			RS.Packages.Knit.Services.ToolService.RE.onEquipRequest:FireServer(unpack(args))
			task.wait(30)
		end
	end)
end)

-- AUTO DUMBELLS
local autoDumb = false
createToggle("Auto Dumbells", 3, function(on)
	autoDumb = on
	task.spawn(function()
		while autoDumb do
			local args = {"AdminEvent", "Dumbells", "AdminEvent12"}
			RS.Packages.Knit.Services.ToolService.RE.onEquipRequest:FireServer(unpack(args))
			task.wait(30)
		end
	end)
end)

-- AUTO CLICK
local autoClick = false
createToggle("Auto Click", 4, function(on)
	autoClick = on
	task.spawn(function()
		while autoClick do
			RS.Packages.Knit.Services.ToolService.RE.onClick:FireServer()
			task.wait(0.05)
		end
	end)
end)
-- AUTO HATCH TECH
local autoHatch = false
createToggle("Auto Hatch Tech", 5, function(on)
    autoHatch = on
    task.spawn(function()
        while autoHatch do
            local args = {
                "Tech",
                [5] = true,
                [4] = false
            }
            game:GetService("ReplicatedStorage")
            :WaitForChild("Packages")
            :WaitForChild("Knit")
            :WaitForChild("Services")
            :WaitForChild("EggService")
            :WaitForChild("RF")
            :WaitForChild("purchaseEgg")
            :InvokeServer(unpack(args))

            task.wait(0.1)
        end
    end)
end)

    end
})
GUI:CreateButton({
    parent = main,
    text = "Event Chrismast",
    callback = function()
-------------------------------
-- Modern Arm Wrestle Hub FIXED
-------------------------------

local Players = game:GetService("Players")
local RS = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- UI
local gui = Instance.new("ScreenGui", player.PlayerGui)
gui.Name = "ArmHubModern"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 300, 0, 260)
main.Position = UDim2.new(0.5, -150, 0.5, -130)
main.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 10)

local shadow = Instance.new("ImageLabel", main)
shadow.AnchorPoint = Vector2.new(0.5, 0.5)
shadow.Position = UDim2.new(0.5, 0, 0.5, 0)
shadow.Size = UDim2.new(1, 30, 1, 30)
shadow.BackgroundTransparency = 1
shadow.Image = "rbxassetid://6894899453"
shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
shadow.ImageTransparency = 0.4

-- Header
local header = Instance.new("Frame", main)
header.Size = UDim2.new(1, 0, 0, 32)
header.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Instance.new("UICorner", header)

local title = Instance.new("TextLabel", header)
title.Size = UDim2.new(1, -60, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 15
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextXAlignment = Enum.TextXAlignment.Left
title.Text = "âš¡ Arm Wrestle Hub"

local mini = Instance.new("TextButton", header)
mini.Size = UDim2.new(0, 30, 1, 0)
mini.Position = UDim2.new(1, -60, 0, 0)
mini.BackgroundTransparency = 1
mini.Text = "-"
mini.Font = Enum.Font.GothamBlack
mini.TextSize = 20
mini.TextColor3 = Color3.fromRGB(200, 200, 200)

local close = Instance.new("TextButton", header)
close.Size = UDim2.new(0, 30, 1, 0)
close.Position = UDim2.new(1, -30, 0, 0)
close.BackgroundTransparency = 1
close.Text = "X"
close.Font = Enum.Font.GothamBlack
close.TextSize = 18
close.TextColor3 = Color3.fromRGB(255, 70, 70)

close.MouseButton1Click:Connect(function()
	gui:Destroy()
end)

-- Content holder
local content = Instance.new("Frame", main)
content.Size = UDim2.new(1, 0, 1, -32)
content.Position = UDim2.new(0, 0, 0, 32)
content.BackgroundTransparency = 1

local list = Instance.new("UIListLayout", content)
list.SortOrder = Enum.SortOrder.LayoutOrder
list.Padding = UDim.new(0, 6)

-- Minimize
local minimized = false
mini.MouseButton1Click:Connect(function()
	minimized = not minimized
	if minimized then
		content.Visible = false
		main:TweenSize(UDim2.new(0, 300, 0, 32), "Out", "Quad", 0.3, true)
	else
		main:TweenSize(UDim2.new(0, 300, 0, 260), "Out", "Quad", 0.3, true)
		content.Visible = true
	end
end)

-- NPC List
local npcFolder = workspace:WaitForChild("GameObjects").ArmWrestling.ToyFactory.NPC
local npcList = {}
for _, v in ipairs(npcFolder:GetChildren()) do
	if v:IsA("Model") then table.insert(npcList, v.Name) end
end
local index = 1

-- NPC Selector
local selector = Instance.new("Frame", content)
selector.Size = UDim2.new(1, -10, 0, 40)
selector.BackgroundTransparency = 1
selector.LayoutOrder = 1

local left = Instance.new("TextButton", selector)
left.Size = UDim2.new(0, 40, 1, 0)
left.Text = "â—€"
left.TextSize = 28
left.Font = Enum.Font.GothamBlack
left.BackgroundTransparency = 1
left.TextColor3 = Color3.fromRGB(255, 255, 255)

local right = Instance.new("TextButton", selector)
right.Size = UDim2.new(0, 40, 1, 0)
right.Position = UDim2.new(1, -40, 0, 0)
right.Text = "â–¶"
right.TextSize = 28
right.Font = Enum.Font.GothamBlack
right.BackgroundTransparency = 1
right.TextColor3 = Color3.fromRGB(255, 255, 255)

local nameNPC = Instance.new("TextLabel", selector)
nameNPC.Size = UDim2.new(1, 0, 1, 0)
nameNPC.BackgroundTransparency = 1
nameNPC.Font = Enum.Font.GothamBold
nameNPC.TextSize = 16
nameNPC.TextColor3 = Color3.fromRGB(255, 255, 255)
nameNPC.Text = npcList[index]

left.MouseButton1Click:Connect(function()
	index -= 1
	if index < 1 then index = #npcList end
	nameNPC.Text = npcList[index]
end)

right.MouseButton1Click:Connect(function()
	index += 1
	if index > #npcList then index = 1 end
	nameNPC.Text = npcList[index]
end)

-------------------------------------------
-- TOGGLE SYSTEM (fixed)
-------------------------------------------

local toggles = {}

local function createToggle(text, key, callback)
	local frame = Instance.new("Frame", content)
	frame.Size = UDim2.new(1, -10, 0, 32)
	frame.BackgroundTransparency = 1

	local label = Instance.new("TextLabel", frame)
	label.Size = UDim2.new(1, -60, 1, 0)
	label.BackgroundTransparency = 1
	label.Text = text
	label.Font = Enum.Font.Gotham
	label.TextSize = 14
	label.TextColor3 = Color3.fromRGB(240, 240, 240)
	label.TextXAlignment = Enum.TextXAlignment.Left

	local btn = Instance.new("TextButton", frame)
	btn.Size = UDim2.new(0, 55, 1, 0)
	btn.Position = UDim2.new(1, -55, 0, 0)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 12
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.BackgroundColor3 = Color3.fromRGB(90, 30, 30)
	btn.Text = "OFF"
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)

	toggles[key] = false

	btn.MouseButton1Click:Connect(function()
		toggles[key] = not toggles[key]
		if toggles[key] then
			btn.Text = "ON"
			btn.BackgroundColor3 = Color3.fromRGB(25, 150, 25)
		else
			btn.Text = "OFF"
			btn.BackgroundColor3 = Color3.fromRGB(90, 30, 30)
		end
	end)

	-- spawn loop for this toggle
	task.spawn(function()
		while true do
			if toggles[key] then
				callback()
			end
			task.wait(0.05)
		end
	end)
end

-------------------------------------------
-- FINAL FEATURES (same as original)
-------------------------------------------

-- AUTO FIGHT
createToggle("Auto Fight", "AutoFight", function()
	local args = { npcList[index] }
	RS.Packages.Knit.Services.ArmWrestleService.RF.RequestStartFight:InvokeServer(unpack(args))
	RS.Packages.Knit.Services.ArmWrestleService.RF.SetAuto:InvokeServer(true)
	task.wait(0.05)
end)

-- AUTO GRIPS
createToggle("Auto Grips", "AutoGrips", function()
	local args = {"ToyFactory", "Grips", "NorthPole12"}
	RS.Packages.Knit.Services.ToolService.RE.onEquipRequest:FireServer(unpack(args))
	task.wait(30)
end)

-- AUTO DUMBELLS
createToggle("Auto Dumbells", "AutoDumbells", function()
	local args = {"ToyFactory", "Dumbells", "NorthPole12"}
	RS.Packages.Knit.Services.ToolService.RE.onEquipRequest:FireServer(unpack(args))
	task.wait(30)
end)

-- AUTO CLICK
createToggle("Auto Click", "AutoClick", function()
	RS.Packages.Knit.Services.ToolService.RE.onClick:FireServer()
	task.wait(0.05)
end)

-- AUTO HATCH
createToggle("Auto Hatch Ice Spikes", "AutoHatch", function()
	local args = { "Ornament", [5]=true, [4]=false }
	RS.Packages.Knit.Services.EggService.RF.purchaseEgg:InvokeServer(unpack(args))
	task.wait()
end)
    end
})

local main = GUI:CreateTab("misc", "cake") -- You can use IconID we didnt impleemnt lucid or any external icons
GUI:CreateSection({
    parent = main, 
    text = "Shortcut"
})
GUI:CreateToggle({
    parent = main, 
    text = "Auto Daily Login", 
    default = true, 
    callback = function(dailylogin)
if dailylogin then
        _G.dailylogin1 = true
			while _G.dailylogin1 == true do
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("DailyRewardService"):WaitForChild("RE"):WaitForChild("onClaimReward"):FireServer()
task.wait(20)
                        end
		else
		_G.dailylogin1 = false
        end
		print("Toggle state:", dailylogin)
    end
})
GUI:CreateToggle({
    parent = main, 
    text = "Auto Open Trainer", 
    default = true, 
    callback = function(trainer)
if trainer then
        _G.loop4 = true
	while _G.loop4 == true do
		task.wait(3)
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("TrainerService"):WaitForChild("RF"):WaitForChild("OpenCrate"):InvokeServer("Starter Crate")
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("TrainerService"):WaitForChild("RF"):WaitForChild("OpenCrate"):InvokeServer("Gold Crate")
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("TrainerService"):WaitForChild("RF"):WaitForChild("OpenCrate"):InvokeServer("Mythic Crate")
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("TrainerService"):WaitForChild("RF"):WaitForChild("OpenCrate"):InvokeServer("Premium Crate")
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("TrainerService"):WaitForChild("RF"):WaitForChild("OpenCrate"):InvokeServer("Prism Crate")
end
		else
		_G.loop4 = false
           end
		print("Toggle state:", trainer)
    end
})
GUI:CreateToggle({
    parent = main, 
    text = "Auto Upgrade Snack", 
    default = false, 
    callback = function(upgrade)
if upgrade then
        _G.upgrade1 = true
	while _G.upgrade1 == true do
task.wait()
local args = {{Item = "Raspberry",Tier = 1}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
local args = {{Item = "Cookie",Tier = 1}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
local args = {{Item = "Cookie",Tier = 2}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
local args = {{Item = "Dragon Fruit",Tier = 1}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
local args = {{Item = "Dragon Fruit",Tier = 2}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
local args = {{Item = "Donut",Tier = 1}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
local args = {{Item = "Donut",Tier = 2}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
local args = {{Item = "Starfruit",Tier = 1}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
local args = {{Item = "Starfruit",Tier = 2}}
game:GetService("ReplicatedStorage"):WaitForChild("Packages"):WaitForChild("Knit"):WaitForChild("Services"):WaitForChild("ItemCraftingService"):WaitForChild("RF"):WaitForChild("UpgradeSnack"):InvokeServer(unpack(args))
end
		else
		_G.upgrade1 = false
           end
        print("Toggle state:", upgrade)
    end
})
GUI:CreateButton({
    parent = main, 
    text = "Brew Hallowen", 
    callback = function()
-- ðŸŽƒ Halloween Brewer (Mobile Scaled - Updated)
-- Auto-resize UI untuk Android & PC

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Remote
local BrewRemote = ReplicatedStorage
	:WaitForChild("Packages"):WaitForChild("Knit")
	:WaitForChild("Services"):WaitForChild("BrewingService")
	:WaitForChild("RF"):WaitForChild("Brew")

-- Recipes (Updated with new decompiled data)
local Recipes = {
	[1]  = { Reward = "Cookie", Ingredients = { ["2"]=3, ["3"]=5 } },
	[2]  = { Reward = "Starfruit", Ingredients = { ["4"]=4, ["5"]=10 } },
	[3]  = { Reward = "Dragon Fruit", Ingredients = { ["6"]=5, ["1"]=1 } },
	[4]  = { Reward = "Training Potion", Ingredients = { ["1"]=1, ["7"]=10 } },
	[5]  = { Reward = "Pet XP Potion", Ingredients = { ["8"]=5, ["9"]=2 } },
	[6]  = { Reward = "Cookie (x3)", Ingredients = { ["2"]=3, ["3"]=4, ["4"]=5 } },
	[7]  = { Reward = "Raspberry", Ingredients = { ["6"]=3, ["7"]=5 } },
	[8]  = { Reward = "Wins Potion", Ingredients = { ["2"]=1, ["3"]=2, ["4"]=3 } },
	[9]  = { Reward = "Luck Potion", Ingredients = { ["1"]=1, ["8"]=15, ["9"]=20 } },
	[10] = { Reward = "Halloween 2025 Training Potion", Ingredients = { ["1"]=1, ["4"]=15, ["9"]=25 } },
	[11] = { Reward = "Halloween 2025 Training Potion (v2)", Ingredients = { ["10"]=15, ["12"]=30, ["15"]=8 } },
	[12] = { Reward = "Spooky Tower Key", Ingredients = { ["11"]=15, ["13"]=20, ["15"]=4 } },
	[13] = { Reward = "Haunted Ticket", Ingredients = { ["14"]=5, ["12"]=4, ["10"]=3 } },
}

-- Ingredient names (Updated)
local ingredientNames = {
	["1"]="Cave Bat", ["2"]="Spooky Ghost", ["3"]="Witch Hat",
	["4"]="Wizard Hat", ["5"]="Spiders Web", ["6"]="Jack O Lantern",
	["7"]="Candy Corn", ["8"]="Zombie Hand", ["9"]="Coffin",
	["10"]="Broomstick", ["11"]="Witch Cauldron", ["12"]="Ghost Soul",
	["13"]="Green Ghost Soul", ["14"]="Blue Ghost Soul", ["15"]="Tombstone"
}

local COOLDOWN = 60

-- GUI root
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "HalloweenBrewer"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Dapatkan resolusi layar untuk scaling
local viewport = workspace.CurrentCamera.ViewportSize
local scaleFactor = math.clamp(viewport.Y / 1080, 0.6, 1.0)

-- Main frame
local main = Instance.new("Frame", screenGui)
main.Name = "Main"
main.Size = UDim2.new(0, 380 * scaleFactor, 0, 520 * scaleFactor)
main.Position = UDim2.new(0.5, -190 * scaleFactor, 0.5, -260 * scaleFactor)
main.BackgroundColor3 = Color3.fromRGB(24,24,24)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 12 * scaleFactor)

-- Header
local header = Instance.new("Frame", main)
header.Size = UDim2.new(1,0,0,40 * scaleFactor)
header.BackgroundColor3 = Color3.fromRGB(34,34,34)
Instance.new("UICorner", header).CornerRadius = UDim.new(0, 12 * scaleFactor)

local title = Instance.new("TextLabel", header)
title.Size = UDim2.new(1, -120 * scaleFactor, 1, 0)
title.Position = UDim2.new(0, 12 * scaleFactor, 0, 0)
title.BackgroundTransparency = 1
title.Text = "ðŸŽƒ Halloween Brewer"
title.Font = Enum.Font.GothamBold
title.TextSize = 18 * scaleFactor
title.TextColor3 = Color3.fromRGB(255,170,80)
title.TextXAlignment = Enum.TextXAlignment.Left

local minimizeBtn = Instance.new("TextButton", header)
minimizeBtn.Size = UDim2.new(0,36 * scaleFactor,0,28 * scaleFactor)
minimizeBtn.Position = UDim2.new(1, -86 * scaleFactor, 0, 6 * scaleFactor)
minimizeBtn.BackgroundColor3 = Color3.fromRGB(48,48,48)
minimizeBtn.Text = "-"
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.TextSize = 18 * scaleFactor
minimizeBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", minimizeBtn).CornerRadius = UDim.new(1,0)

local closeBtn = Instance.new("TextButton", header)
closeBtn.Size = UDim2.new(0,36 * scaleFactor,0,28 * scaleFactor)
closeBtn.Position = UDim2.new(1, -44 * scaleFactor, 0, 6 * scaleFactor)
closeBtn.BackgroundColor3 = Color3.fromRGB(110,40,40)
closeBtn.Text = "X"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 16 * scaleFactor
closeBtn.TextColor3 = Color3.new(1,1,1)
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(1,0)

-- Scroll list
local scroll = Instance.new("ScrollingFrame", main)
scroll.Position = UDim2.new(0,8 * scaleFactor,0,48 * scaleFactor)
scroll.Size = UDim2.new(1,-16 * scaleFactor,1,-56 * scaleFactor)
scroll.CanvasSize = UDim2.new(0,0,0, #Recipes * 100 * scaleFactor)
scroll.BackgroundTransparency = 1
scroll.ScrollBarThickness = 6 * scaleFactor
local layout = Instance.new("UIListLayout", scroll)
layout.Padding = UDim.new(0,8 * scaleFactor)
layout.SortOrder = Enum.SortOrder.LayoutOrder

-- Floating bubble
local bubble = Instance.new("TextButton", screenGui)
bubble.Size = UDim2.new(0,56 * scaleFactor,0,56 * scaleFactor)
bubble.Position = UDim2.new(1, -86 * scaleFactor, 1, -96 * scaleFactor)
bubble.BackgroundColor3 = Color3.fromRGB(255,140,0)
bubble.Text = "ðŸŽƒ"
bubble.Font = Enum.Font.GothamBold
bubble.TextSize = 28 * scaleFactor
bubble.TextColor3 = Color3.new(1,1,1)
bubble.Visible = false
Instance.new("UICorner", bubble).CornerRadius = UDim.new(1,0)

-- Drag bubble
do
	local dragging, dragStart, startPos
	bubble.InputBegan:Connect(function(i)
		if i.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			dragStart = i.Position
			startPos = bubble.Position
			i.Changed:Connect(function()
				if i.UserInputState == Enum.UserInputState.End then dragging = false end
			end)
		end
	end)
	UserInputService.InputChanged:Connect(function(i)
		if dragging and i.UserInputType == Enum.UserInputType.MouseMovement then
			local delta = i.Position - dragStart
			bubble.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end
	end)
end

-- Brew function
local toggles, progressFills = {}, {}
local function DoBrew(recipe)
	task.spawn(function()
		local args = { {} }
		for id, amt in pairs(recipe.Ingredients) do
			args[1][id] = { Amount = amt, Slot = tonumber(id) or 1 }
		end
		pcall(function() BrewRemote:InvokeServer(unpack(args)) end)
	end)
end

-- List entries
for i, recipe in ipairs(Recipes) do
	local entry = Instance.new("Frame", scroll)
	entry.Size = UDim2.new(1, -4, 0, 90 * scaleFactor)
	entry.BackgroundColor3 = Color3.fromRGB(40,40,40)
	entry.BorderSizePixel = 0
	Instance.new("UICorner", entry).CornerRadius = UDim.new(0,8 * scaleFactor)

	local toggle = Instance.new("TextButton", entry)
	toggle.Size = UDim2.new(0,26 * scaleFactor,0,26 * scaleFactor)
	toggle.Position = UDim2.new(0,10 * scaleFactor,0,10 * scaleFactor)
	toggle.Text = ""
	toggle.BackgroundColor3 = Color3.fromRGB(70,70,70)
	Instance.new("UICorner", toggle).CornerRadius = UDim.new(1,0)

	local name = Instance.new("TextLabel", entry)
	name.Position = UDim2.new(0,44 * scaleFactor,0,6 * scaleFactor)
	name.Size = UDim2.new(1,-60 * scaleFactor,0,20 * scaleFactor)
	name.BackgroundTransparency = 1
	name.Font = Enum.Font.GothamBold
	name.TextSize = 15 * scaleFactor
	name.TextColor3 = Color3.fromRGB(255,200,100)
	name.TextXAlignment = Enum.TextXAlignment.Left
	name.Text = recipe.Reward

	local ing = Instance.new("TextLabel", entry)
	ing.Position = UDim2.new(0,14 * scaleFactor,0,32 * scaleFactor)
	ing.Size = UDim2.new(1,-28 * scaleFactor,0,36 * scaleFactor)
	ing.BackgroundTransparency = 1
	ing.Font = Enum.Font.Gotham
	ing.TextSize = 12 * scaleFactor
	ing.TextWrapped = true
	ing.TextColor3 = Color3.fromRGB(230,230,230)
	local parts = {}
	for id, amt in pairs(recipe.Ingredients) do
		table.insert(parts, string.format("%s Ã—%d", ingredientNames[id] or id, amt))
	end
	ing.Text = table.concat(parts, " | ")

	-- progress bar
	local bar = Instance.new("Frame", entry)
	bar.Size = UDim2.new(1, -24 * scaleFactor, 0, 10 * scaleFactor)
	bar.Position = UDim2.new(0,12 * scaleFactor,1,-14 * scaleFactor)
	bar.BackgroundColor3 = Color3.fromRGB(65,65,65)
	bar.BorderSizePixel = 0
	Instance.new("UICorner", bar).CornerRadius = UDim.new(0,6 * scaleFactor)

	local fill = Instance.new("Frame", bar)
	fill.Size = UDim2.new(0,0,1,0)
	fill.BackgroundColor3 = Color3.fromRGB(255,140,0)
	Instance.new("UICorner", fill).CornerRadius = UDim.new(0,6 * scaleFactor)

	toggles[i] = false
	progressFills[i] = fill

	toggle.MouseButton1Click:Connect(function()
		toggles[i] = not toggles[i]
		toggle.BackgroundColor3 = toggles[i] and Color3.fromRGB(255,140,0) or Color3.fromRGB(70,70,70)
		if toggles[i] then
			task.spawn(function()
				while toggles[i] do
					DoBrew(recipe)
					local start = tick()
					while tick() - start < COOLDOWN and toggles[i] do
						fill.Size = UDim2.new((tick()-start)/COOLDOWN,0,1,0)
						task.wait(0.15)
					end
					fill.Size = UDim2.new(0,0,1,0)
				end
			end)
		else
			fill.Size = UDim2.new(0,0,1,0)
		end
	end)
end

-- minimize / restore
minimizeBtn.MouseButton1Click:Connect(function()
	main.Visible = false
	bubble.Visible = true
end)
bubble.MouseButton1Click:Connect(function()
	main.Visible = true
	bubble.Visible = false
end)
closeBtn.MouseButton1Click:Connect(function()
	for k in pairs(toggles) do toggles[k] = false end
	screenGui:Destroy()
end)

print("ðŸŽƒ Halloween Brewer (mobile-scaled, updated data) loaded!")
end})


local main = GUI:CreateTab("misc", "egg") -- You can use IconID we didnt impleemnt lucid or any external icons
GUI:CreateSection({
    parent = main, 
    text = "Egg Hatch"
})
GUI:CreateToggle({
    parent = main, 
    text = "Auto Claim Gift", 
    default = true, 
    callback = function(leave)
      --==================================================
-- ðŸŽ AUTO CLAIM GIFT (30 MINUTE)
-- NO GUI | NO EGG | AUTO RUN
--==================================================

-- WAIT PLAYER
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
repeat task.wait() until Player and Player:FindFirstChild("PlayerGui")

-- INTERVAL
local CLAIM_INTERVAL = 1800 -- 30 menit (1800 detik)

-- REMOTE
local GiftRemote = game:GetService("ReplicatedStorage")
	:WaitForChild("Packages")
	:WaitForChild("Knit")
	:WaitForChild("Services")
	:WaitForChild("GiftMachineService")
	:WaitForChild("RF")
	:WaitForChild("Claim")

-- FUNCTION
local function claimGift()
	pcall(function()
		GiftRemote:InvokeServer("ToyFactory")
		print("[AUTO GIFT] Claimed at", os.date("%X"))
	end)
end

-- LOOP
task.spawn(function()
	while true do
		claimGift()
		task.wait(CLAIM_INTERVAL)
	end
end)
   end
})
